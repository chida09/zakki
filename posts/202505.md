# 202505
## commitをまとめるコマンドについて
以下のコマンドはほぼ同じ
- git commit -m "update" -n && git rebase -i HEAD~2 で f (fixup)
- git commit --amend --no-edit

## Reactの副作用とは

Reactにおける「コンポーネントの副作用」とは、コンポーネントがDOMにレンダリングされるという主要な役割に加えて発生する、あらゆる追加的な影響のことです。これは、「コンポーネントが表示されたことによって引き起こされる、DOMへの表示以外の作用」と言い換えることができます。

主なポイント:
- 主要な役割との区別: コンポーネントの主な仕事は、与えられたデータに基づいてUIを記述（JSXを返す）し、それをReactが効率的にDOMに反映させることです。副作用は、この主要な役割に付随して起こる処理や影響を指します。
- 外部とのインタラクション: 副作用はしばしば、Reactコンポーネントの管理外の環境とのインタラクションを含みます。これには、ブラウザのAPI（イベントリスナー、タイマー、localStorageなど）、ネットワーク、サードパーティのライブラリ、あるいはReactが直接管理しないDOMなどが含まれます。
- ライフサイクルの意識: 副作用には、開始（コンポーネントのマウント時など）と終了（コンポーネントのアンマウント時など）のライフサイクルがあります。適切に管理しないと、メモリリーク、不要なAPI呼び出し、予期せぬ動作などを引き起こす可能性があります。
- useEffect フックの利用: Reactは、これらの副作用を安全かつ効率的に管理するためのフックとして useEffect を提供しています。useEffect を使うことで、副作用の登録とクリーンアップの処理をコンポーネントのライフサイクルに合わせて記述できます。
- 具体的な例:
  - タイマー処理 (setInterval, setTimeout)
  - APIからのデータフェッチ (fetch など)
  - DOMの直接操作 (useRef を利用した操作など)
  - イベントリスナーの登録と解除 (addEventListener, removeEventListener)
  - WebSocket接続の確立と切断
  - フォーカスの制御
  - スクロールイベントの監視
  - ページ離脱時の処理

これらの副作用は、ユーザーインターフェースをインタラクティブにし、動的な動作を実現するために不可欠な概念です。useEffect を適切に活用することで、これらの副作用をコンポーネントのライフサイクルと連携させ、より堅牢で保守性の高いReactアプリケーションを構築することができます。
